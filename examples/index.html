<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Example workspaces - Workstation Setup</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Example workspaces";
    var mkdocs_page_input_path = "examples/README.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Workstation Setup</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">workstation_setup</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Examples</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Example workspaces</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#1-multi-stage-docker-build-ros2_crystal_multistage">1. Multi stage docker build (ros2_crystal_multistage)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-docker-development-environment-copied-into-final-image-ros2_crystal_dev_release">2. Docker development environment copied into final image (ros2_crystal_dev_release)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#3-docker-development-through-vs-code-ros2_dashing_vscode">3. Docker development through VS Code (ros2_dashing_vscode)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#4-bazel-workspace-with-vs-code-bazel">4. Bazel workspace with VS Code (bazel)</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Bazel</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="bazel/">bazel</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Ros2 crystal dev release</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="ros2_crystal_dev_release/">ros2_crystal_dev_release</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Ros2 crystal multistage</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="ros2_crystal_multistage/">ros2_crystal_multistage</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Ros2 dashing vscode</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="ros2_dashing_vscode/">ros2_dashing_vscode</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Ros melodic vscode</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="ros_melodic_vscode/">ros_melodic_vscode</a>
                </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Workstation Setup</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Examples &raquo;</li>
        
      
    
    <li>Example workspaces</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="example-workspaces">Example workspaces<a class="headerlink" href="#example-workspaces" title="Permanent link">&para;</a></h1>
<p>Here are 3 examples of how to set up your docker development workflow with ROS.</p>
<h2 id="1-multi-stage-docker-build-ros2_crystal_multistage">1. Multi stage docker build (<a href="ros2_crystal_multistage/">ros2_crystal_multistage</a>)<a class="headerlink" href="#1-multi-stage-docker-build-ros2_crystal_multistage" title="Permanent link">&para;</a></h2>
<p>This will build and compile your code into a small output image by building your code during dockerfile creation.  </p>
<p><strong>Pros:</strong></p>
<ul>
<li>One file defines everything you need to create the image</li>
<li>Repeatability built in</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Takes longer to compile when a file changes (about the same as building from scratch)</li>
</ul>
<h2 id="2-docker-development-environment-copied-into-final-image-ros2_crystal_dev_release">2. Docker development environment copied into final image (<a href="ros2_crystal_dev_release/">ros2_crystal_dev_release</a>)<a class="headerlink" href="#2-docker-development-environment-copied-into-final-image-ros2_crystal_dev_release" title="Permanent link">&para;</a></h2>
<p>This will build the workspace on your host machine using a docker image as the development environment.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>Fastest re-build time because you can use cmake cache</li>
<li>Small output image possible by passing targets into final image</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Requires multiple dockerfiles to set up</li>
<li>Not as repeatable (your local cache may affect build)</li>
</ul>
<h2 id="3-docker-development-through-vs-code-ros2_dashing_vscode">3. Docker development through VS Code (<a href="ros2_dashing_vscode/">ros2_dashing_vscode</a>)<a class="headerlink" href="#3-docker-development-through-vs-code-ros2_dashing_vscode" title="Permanent link">&para;</a></h2>
<p>This will use the VS Code docker container <a href="https://code.visualstudio.com/docs/remote/containers">plugin</a> as the basis of development.  </p>
<p>Under-the-hood, vscode is running a docker container and mounting your source code into it. This gives you all the tooling you need to build your code and can enable standardization of tooling including linters.  It also seamlessly integrates with IntelliSense (which is all sorts of awesome) and enables debugging through traditional debuggers ie gdb.  </p>
<p>It seems to follow the develop-release pattern with docker, where a develop container is created for compiling and a then the built assets can be copied into a deployment container.  It is also possible to support multi-stage, but development would be in a docker-in-docker configuration.</p>
<p><strong>Pros:</strong></p>
<ul>
<li>All developers using the same tools (including linters, etc) in an easy to share setup</li>
<li>Supported IDE functionalities such as intellisense, code following, debugging, etc.</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>Built targets have &ldquo;root&rdquo; permissions unless you&rsquo;ve updated your base docker image to have your user name/group.</li>
</ul>
<h2 id="4-bazel-workspace-with-vs-code-bazel">4. Bazel workspace with VS Code (<a href="bazel/">bazel</a>)<a class="headerlink" href="#4-bazel-workspace-with-vs-code-bazel" title="Permanent link">&para;</a></h2>
<p>This will use a VS Code docker container <a href="https://code.visualstudio.com/docs/remote/containers">plugin</a> as the basis of development for a bazel environment.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bazel/" class="btn btn-neutral float-right" title="bazel">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href=".." class="btn btn-neutral" title="workstation_setup"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href=".." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="bazel/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
