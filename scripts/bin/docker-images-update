#!/usr/bin/env bash
set -euo pipefail

# md
# ## docker-images-update
#
# Pulls the latest docker images for my most-used images
#
# ### Usage
#
# ```sh
# docker-images-update
# ```
#
# /md

# Show usage/help and exit
show_help() {
cat <<'EOF'
Usage: docker-images-update [options]

Pulls the latest docker images for my most-used images and prunes unused images.

Options:
  -h, --help    Display this help and exit
EOF
}

case "${1:-}" in
  -h|--help) show_help; exit 0 ;;
esac

# Clean up dangling images
docker system prune -f


# md
# ### Images
#
# This pulls the latest images for:
#
docker pull ubuntu:24.04
docker pull mcr.microsoft.com/devcontainers/base:ubuntu
# - kinetic images needed for deepracer
docker pull althack/ros:kinetic-base
docker pull althack/ros:kinetic-dev
# - Latest ros release (noetic - last release)
docker pull althack/ros:noetic-base
docker pull althack/ros:noetic-dev
docker pull althack/ros:noetic-gazebo
# - Latest ros2 release (jazzy)
docker pull althack/ros2:jazzy-base
docker pull althack/ros2:jazzy-dev
docker pull althack/ros2:jazzy-gazebo
# - Latest ignition release (jetty)
docker pull althack/gz:harmonic-dev
# - Latest mkdocs simple plugin
docker pull althack/mkdocs-simple-plugin
# /md
